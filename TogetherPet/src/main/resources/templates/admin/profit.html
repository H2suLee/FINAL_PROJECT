<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout_admin}">
<head>
<meta charset="UTF-8">
<meta id="_csrf" name="_csrf" th:content="${_csrf.token}" />
<meta id="_csrf_header" name="_csrf_header"
	th:content="${_csrf.headerName}" />

<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script type="text/javascript"
	src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
<script
	src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
<script
	src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>
<script
	src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.print.min.js"></script>

<title>Insert title here</title>
</head>
<body>
	<article layout:fragment="content">
		<!-- Profit Card -->
		<div class="container-xxl flex-grow-1 container-p-y">
			<div class="row">
				<div class="col-xl-12">
					<div class="row">
						<div class="col-xs-6 col-sm-4">
							<div class="card">
								<div class="card-body">
									<div
										class="card-title d-flex align-items-start justify-content-between">
										<div class="avatar flex-shrink-0">
											<img src="/admin/assets/img/icons/unicons/chart-success.png"
												alt="chart success" class="rounded" />
										</div>
										<div class="dropdown">
											<button class="btn p-0" type="button" id="cardOpt3"
												data-bs-toggle="dropdown" aria-haspopup="true"
												aria-expanded="false">
												<i class="bx bx-dots-vertical-rounded"></i>
											</button>
											<div class="dropdown-menu dropdown-menu-end"
												aria-labelledby="cardOpt3">
												<a class="dropdown-item" href="javascript:void(0);">View
													More</a> <a class="dropdown-item" href="javascript:void(0);">Delete</a>
											</div>
										</div>
									</div>
									<span class="fw-semibold d-block mb-1">어제 매출 합계</span>
									<h3 class="card-title mb-2">$12,628</h3>
									<small class="text-success fw-semibold"><i
										class="bx bx-up-arrow-alt"></i> +72.80%</small>
								</div>
							</div>
						</div>
						<div class="col-xs-6 col-sm-4">
							<div class="card">
								<div class="card-body">
									<div
										class="card-title d-flex align-items-start justify-content-between">
										<div class="avatar flex-shrink-0">
											<img src="/admin/assets/img/icons/unicons/wallet-info.png"
												alt="Credit Card" class="rounded" />
										</div>
										<div class="dropdown">
											<button class="btn p-0" type="button" id="cardOpt6"
												data-bs-toggle="dropdown" aria-haspopup="true"
												aria-expanded="false">
												<i class="bx bx-dots-vertical-rounded"></i>
											</button>
											<div class="dropdown-menu dropdown-menu-end"
												aria-labelledby="cardOpt6">
												<a class="dropdown-item" href="javascript:void(0);">View
													More</a> <a class="dropdown-item" href="javascript:void(0);">Delete</a>
											</div>
										</div>
									</div>
									<span>지난 주 매출 합계</span>
									<h3 class="card-title text-nowrap mb-1">$4,679</h3>
									<small class="text-success fw-semibold"><i
										class="bx bx-up-arrow-alt"></i> +28.42%</small>
								</div>
							</div>
						</div>
						<div class="col-xs-6 col-sm-4">
							<div class="card">
								<div class="card-body">
									<div
										class="card-title d-flex align-items-start justify-content-between">
										<div class="avatar flex-shrink-0">
											<img src="/admin/assets/img/icons/unicons/cc-primary.png"
												alt="Credit Card" class="rounded" />
										</div>
										<div class="dropdown">
											<button class="btn p-0" type="button" id="cardOpt6"
												data-bs-toggle="dropdown" aria-haspopup="true"
												aria-expanded="false">
												<i class="bx bx-dots-vertical-rounded"></i>
											</button>
											<div class="dropdown-menu dropdown-menu-end"
												aria-labelledby="cardOpt6">
												<a class="dropdown-item" href="javascript:void(0);">View
													More</a> <a class="dropdown-item" href="javascript:void(0);">Delete</a>
											</div>
										</div>
									</div>
									<span>지난 달 매출 합계</span>
									<h3 class="card-title text-nowrap mb-1">$4,679</h3>
									<small class="text-success fw-semibold"><i
										class="bx bx-up-arrow-alt"></i> +28.42%</small>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- /Profit Card -->
		<!-- Profit Overview -->
		<div class="row">
			<div class="col-xl-12">
				<div class="nav-align-top mb-4">
					<ul class="nav nav-pills mb-3" role="tablist">
						<li class="nav-item">
							<button type="button" class="nav-link active" role="tab"
								data-bs-toggle="tab" data-bs-target="#dailyTab"
								aria-controls="navs-pills-top-home" aria-selected="true">
								일간</button>
						</li>
						<li class="nav-item">
							<button type="button" class="nav-link" role="tab"
								data-bs-toggle="tab" data-bs-target="#weeklyTab"
								aria-controls="navs-pills-top-profile" aria-selected="false">
								주간</button>
						</li>
						<li class="nav-item">
							<button type="button" class="nav-link" role="tab"
								data-bs-toggle="tab" data-bs-target="#monthlyTab"
								aria-controls="navs-pills-top-messages" aria-selected="false">
								월간</button>
						</li>
					</ul>
					<div class="tab-content">
						<div class="tab-pane fade show active" id="dailyTab"
							role="tabpanel">
							<div class="card h-100">
								<div class="card-body px-0">
									<div class="tab-content p-0">
										<div class="tab-pane fade show active"
											id="navs-tabs-line-card-income" role="tabpanel">
											<div class="d-flex p-4 pt-3">
												<div class="avatar flex-shrink-0 me-3">
													<img src="/admin/assets/img/icons/unicons/wallet.png"
														alt="User" />
												</div>
												<div>
													<small class="text-muted d-block">Total Balance</small>
													<div class="d-flex align-items-center">
														<h6 class="mb-0 me-1">$459.10</h6>
														<small class="text-success fw-semibold"> <i
															class="bx bx-chevron-up"></i> 42.9%
														</small>
													</div>
												</div>
											</div>
											<div id="incomeChart">
												<div id="curve_chart" style="width: 100%; height: 500px"></div>
											</div>
											<div class="d-flex justify-content-center pt-4 gap-2">
												<div class="flex-shrink-0">
													<div id="expensesOfWeek"></div>
												</div>
												<div>
													<p class="mb-n1 mt-1">Expenses This Week</p>
													<small class="text-muted">$39 less than last week</small>
												</div>
											</div>
											<!-- Profit Table -->
											<br> <br> <br>
											<div class="daily"
												style="width: 80%; height: auto; margin: 5px auto;">
												<table id="daily" class="table">
													<thead>
														<tr>
															<th>정산일자</th>
															<th>거래일자</th>
															<th>거래품목</th>
															<th>거래품명</th>
															<th>거래금액(원)</th>
															<th>정산금액(원)</th>
															<th>매출(원)</th>

														</tr>
													</thead>
													<tbody>
														<tr th:each="p:${profitList}">
															<td>[[${p.minusDt}]]</td>
															<td>[[${p.orderDt}]]</td>
															<td>[[${p.categoryId}]]</td>
															<td>[[${p.name}]]</td>
															<td>[[${#numbers.formatInteger(p.totalPrice,3,'COMMA')}]]</td>
															<td>[[${#numbers.formatInteger(p.minusPrice,3,'COMMA')}]]</td>
															<td>[[${#numbers.formatInteger(p.profit,3,'COMMA')}]]</td>
														</tr>
													</tbody>
												</table>
											</div>

											<!-- /Profit Table -->
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="tab-pane fade" id="weeklyTab" role="tabpanel">
							<div class="card h-100">
								<div class="card-header">
									<ul class="nav nav-pills" role="tablist">
										<li class="nav-item">
											<button type="button" class="nav-link active" role="tab"
												data-bs-toggle="tab"
												data-bs-target="#navs-tabs-line-card-income"
												aria-controls="navs-tabs-line-card-income"
												aria-selected="true">Income</button>
										</li>
										<li class="nav-item">
											<button type="button" class="nav-link" role="tab">Expenses</button>
										</li>
										<li class="nav-item">
											<button type="button" class="nav-link" role="tab">Profit</button>
										</li>
									</ul>
								</div>
								<div class="card-body px-0">
									<div class="tab-content p-0">
										<div class="tab-pane fade show active"
											id="navs-tabs-line-card-income" role="tabpanel">
											<div class="d-flex p-4 pt-3">
												<div class="avatar flex-shrink-0 me-3">
													<img src="/admin/assets/img/icons/unicons/wallet.png"
														alt="User" />
												</div>
												<div>
													<small class="text-muted d-block">Total Balance</small>
													<div class="d-flex align-items-center">
														<h6 class="mb-0 me-1">$459.10</h6>
														<small class="text-success fw-semibold"> <i
															class="bx bx-chevron-up"></i> 42.9%
														</small>
													</div>
												</div>
											</div>
											<div id="incomeChart">
												<div id="curve_chart" style="width: 90%; height: 500px"></div>
											</div>
											<div class="d-flex justify-content-center pt-4 gap-2">
												<div class="flex-shrink-0">
													<div id="expensesOfWeek"></div>
												</div>
												<div>
													<p class="mb-n1 mt-1">Expenses This Week</p>
													<small class="text-muted">$39 less than last week</small>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="tab-pane fade" id="monthlyTab" role="tabpanel">
							<div class="card h-100">
								<div class="card-header">
									<ul class="nav nav-pills" role="tablist">
										<li class="nav-item">
											<button type="button" class="nav-link active" role="tab"
												data-bs-toggle="tab"
												data-bs-target="#navs-tabs-line-card-income"
												aria-controls="navs-tabs-line-card-income"
												aria-selected="true">Income</button>
										</li>
										<li class="nav-item">
											<button type="button" class="nav-link" role="tab">Expenses</button>
										</li>
										<li class="nav-item">
											<button type="button" class="nav-link" role="tab">Profit</button>
										</li>
									</ul>
								</div>
								<div class="card-body px-0">
									<div class="tab-content p-0">
										<div class="tab-pane fade show active"
											id="navs-tabs-line-card-income" role="tabpanel">
											<div class="d-flex p-4 pt-3">
												<div class="avatar flex-shrink-0 me-3">
													<img src="/admin/assets/img/icons/unicons/wallet.png"
														alt="User" />
												</div>
												<div>
													<small class="text-muted d-block">Total Balance</small>
													<div class="d-flex align-items-center">
														<h6 class="mb-0 me-1">$459.10</h6>
														<small class="text-success fw-semibold"> <i
															class="bx bx-chevron-up"></i> 42.9%
														</small>
													</div>
												</div>
											</div>
											<div id="incomeChart">
												<div id="curve_chart" style="width: 100%; height: 500px"></div>
											</div>
											<div class="d-flex justify-content-center pt-4 gap-2">
												<div class="flex-shrink-0">
													<div id="expensesOfWeek"></div>
												</div>
												<div>
													<p class="mb-n1 mt-1">Expenses This Week</p>
													<small class="text-muted">$39 less than last week</small>
												</div>
											</div>
											<!-- Profit Table -->
											<br> <br> <br>
											<div class="monthly"
												style="width: 80%; height: auto; margin: 5px auto;">
												<table id="monthly" class="table">
													<thead>
														<tr>
															<th>정산월</th>
															<th>매출(원)</th>

														</tr>
													</thead>
													<tbody>
														<tr>
															<td>[[${monthlyList.m09}]]</td>	
															<td>>??</td>
														</tr>
													</tbody>
												</table>
											</div>

											<!-- /Profit Table -->
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
		<!--/ Profit Overview -->
		<script type="text/javascript"
			src="https://www.gstatic.com/charts/loader.js"></script>
		<script type="text/javascript">
			/* <div id="curve_chart" style="width: 100%; height: 500px"></div> */
			google.charts.load('current', {
				'packages' : [ 'corechart' ]
			});
			google.charts.setOnLoadCallback(drawChart);

			function drawChart() {
				var data = google.visualization.arrayToDataTable([
						[ 'Year', 'Sales', 'Expenses' ], [ '2004', 1000, 400 ],
						[ '2005', 1170, 460 ], [ '2006', 660, 1120 ],
						[ '2007', 1030, 540 ] ]);

				var options = {
					title : 'Company Performance',
					curveType : 'function',
					legend : {
						position : 'bottom'
					}
				};

				var chart = new google.visualization.LineChart(document
						.getElementById('curve_chart'));

				chart.draw(data, options);
			}

			/* DataTables */
			$('#daily').DataTable({
				lengthChange : false,
				pageLength : 10,
				//lengthMenu : [ 10, 20, 30, 40, 50 ],
				info : true,
				searching : false,
				ordering : false,

				columnDefs : [

				{
					width : 300,
					targets : 3
				}

				],

			});
		</script>
	</article>
</body>
</html>